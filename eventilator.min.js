(a=>{const b=(a,c=a.length,...d)=>c<=d.length?a(...d):b.bind(void 0,a,c,...d),c=b((b,d,e,f,g=!1)=>{if("string"==typeof d&&(d=a.document.querySelector(d)),e===Object(e)){for(const a in e)e[a]=c(b,d,a,e[a],g);return e}if("function"!=typeof f)return c.bind(void 0,b,d,e);let h=!1;f=f.bind(d);const i=a=>{f(a,d),b&&j()},j=()=>(d.removeEventListener(e,i),h=!1,l),k=a=>(h&&j(),b=!!a,d.addEventListener(e,i,g),h=!0,l),l={get isOn(){return h},on:k,off:j,once:k.bind(void 0,!0),emit(b,c){return d.dispatchEvent(new a.CustomEvent(b,{detail:c})),l}};return k(b)},3);if(c.curry=b,c.once=c(!0),c.on=c(!1),c.emit=(b,c,d)=>{b.dispatchEvent(new a.CustomEvent(c,{detail:d}))},a.Proxy){const b={get:(a,b)=>(c,d,e)=>a(c,b,d,e)};c.once=new a.Proxy(c.once,b),c.on=new a.Proxy(c.on,b)}"undefined"==typeof module?"function"==typeof define&&a.define.amd?a.define(["eventilator"],()=>c):a.eventilator=c:module.exports=c})("undefined"==typeof global?window:global);